{
  "tools": [
    {
      "name": "list_agent_terminals",
      "description": "列出所有正在运行 agent CLI（如 codex、aider 等）的 Terminal 窗口信息",
      "inputSchema": {
        "type": "object",
        "properties": {
          "agentNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "要查找的 agent 名称列表，默认: [\"codex\", \"aider\"]"
          }
        }
      }
    },
    {
      "name": "send_to_agent",
      "description": "将消息发送到一个或多个 agent 的 Terminal 输入框。支持单播和群播。消息会显示为 [from → to]: message 格式，让接收者知道消息来源和所有接收者",
      "inputSchema": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "发送者的名称（如 claude、codex、gemini 等）。如果不提供，默认显示为 'unknown'"
          },
          "agentName": {
            "oneOf": [
              {
                "type": "string",
                "description": "单个目标 agent 的名称"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "多个目标 agent 的名称数组（群播）"
              }
            ],
            "description": "目标 agent 的名称。可以是单个字符串（如 'codex'）用于单播，或字符串数组（如 ['codex', 'gemini', 'qwen']）用于群播"
          },
          "message": {
            "type": "string",
            "description": "要发送到 agent 输入框的消息内容"
          }
        },
        "required": ["agentName", "message"]
      }
    },
    {
      "name": "list_agent_commands",
      "description": "列出 agent 的可用命令（斜杠命令）。Agents 可以使用此工具发现其他 agents 的能力，然后通过 send_to_agent 调用这些命令。例如：先查询 codex 的命令列表，然后发送 '/commit' 让 codex 创建 commit",
      "inputSchema": {
        "type": "object",
        "properties": {
          "agentName": {
            "type": "string",
            "description": "要查询命令的 agent 名称（如 'codex', 'claude', 'gemini', 'qwen'）。如果不提供，返回所有 agents 的命令列表"
          }
        }
      }
    },
    {
      "name": "get_collaboration_stats",
      "description": "获取协作统计数据，帮助 agents 了解协作模式和效果。可以查询整体统计或特定 agent 的统计。包括：消息数量、最常协作的 agents、最常用的命令、近期活动等。Agents 可以用此分析哪些协作模式有效，优化任务分配",
      "inputSchema": {
        "type": "object",
        "properties": {
          "agentName": {
            "type": "string",
            "description": "要查询统计的 agent 名称。如果不提供，返回所有 agents 的整体统计"
          }
        }
      }
    },
    {
      "name": "register_commands",
      "description": "允许 agent 动态注册自己的命令。注册后的命令会自动出现在 list_agent_commands 的结果中，其他 agents 就能发现并调用。动态命令会覆盖静态配置的同名命令。这消除了手动维护 agent_commands.json 的负担，让 agents 自主管理自己的能力",
      "inputSchema": {
        "type": "object",
        "properties": {
          "agentName": {
            "type": "string",
            "description": "注册命令的 agent 名称（如 'codex', 'claude', 'gemini', 'qwen'）"
          },
          "commands": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "命令名称（如 '/analyze', '/review'）"
                },
                "description": {
                  "type": "string",
                  "description": "命令功能描述"
                }
              },
              "required": ["name", "description"]
            },
            "description": "要注册的命令列表"
          }
        },
        "required": ["agentName", "commands"]
      }
    }
  ]
}
